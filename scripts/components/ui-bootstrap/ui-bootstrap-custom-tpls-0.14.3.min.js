/*
 * angular-ui-bootstrap
 * http://angular-ui.github.io/bootstrap/

 * Version: 0.14.3 - 2015-10-23
 * License: MIT
 */
angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.tooltip","ui.bootstrap.position","ui.bootstrap.stackedMap","ui.bootstrap.popover","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-html.html","template/popover/popover-template.html","template/popover/popover.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",focus:"blur",none:""},a={};this.options=function(e){angular.extend(a,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(i,o,r,l,s,p,u,c,d){var m=d.createNew();return l.on("keypress",function(e){if(27===e.which){var t=m.top();t&&(t.value.close(),m.removeTop(),t=null)}}),function(i,u,d,f){function h(e){var t=(e||f.trigger||d).split(" "),a=t.map(function(e){return n[e]||e});return{show:t,hide:a}}f=angular.extend({},t,a,f);var g=e(i),v=p.startSymbol(),$=p.endSymbol(),b="<div "+g+'-popup title="'+v+"title"+$+'" '+(f.useContentExp?'content-exp="contentExp()" ':'content="'+v+"content"+$+'" ')+'placement="'+v+"placement"+$+'" popup-class="'+v+"popupClass"+$+'" animation="animation" is-open="isOpen"origin-scope="origScope" style="visibility: hidden; display: block; top: -9999px; left: -9999px;"></div>';return{compile:function(){var e=o(b);return function(t,n,a){function o(){V.isOpen?d():p()}function p(){(!W||t.$eval(a[u+"Enable"]))&&(b(),k(),V.popupDelay?O||(O=r(g,V.popupDelay,!1)):g())}function d(){v(),V.popupCloseDelay?P||(P=r($,V.popupCloseDelay,!1)):$()}function g(){return v(),b(),V.content?(w(),void V.$evalAsync(function(){V.isOpen=!0,C(!0),R()})):angular.noop}function v(){O&&(r.cancel(O),O=null),E&&(r.cancel(E),E=null)}function $(){v(),b(),V&&V.$evalAsync(function(){V.isOpen=!1,C(!1),V.animation?S||(S=r(y,150,!1)):y()})}function b(){P&&(r.cancel(P),P=null),S&&(r.cancel(S),S=null)}function w(){M||(U=V.$new(),M=e(U,function(e){I?l.find("body").append(e):n.after(e)}),x())}function y(){D(),S=null,M&&(M.remove(),M=null),U&&(U.$destroy(),U=null)}function k(){V.title=a[u+"Title"],V.content=H?H(t):a[i],V.popupClass=a[u+"Class"],V.placement=angular.isDefined(a[u+"Placement"])?a[u+"Placement"]:f.placement;var e=parseInt(a[u+"PopupDelay"],10),n=parseInt(a[u+"PopupCloseDelay"],10);V.popupDelay=isNaN(e)?f.popupDelay:e,V.popupCloseDelay=isNaN(n)?f.popupCloseDelay:n}function C(e){N&&angular.isFunction(N.assign)&&N.assign(t,e)}function x(){F.length=0,H?(F.push(t.$watch(H,function(e){V.content=e,!e&&V.isOpen&&$()})),F.push(U.$watch(function(){q||(q=!0,U.$$postDigest(function(){q=!1,V&&V.isOpen&&R()}))}))):F.push(a.$observe(i,function(e){V.content=e,!e&&V.isOpen?$():R()})),F.push(a.$observe(u+"Title",function(e){V.title=e,V.isOpen&&R()})),F.push(a.$observe(u+"Placement",function(e){V.placement=e?e:f.placement,V.isOpen&&R()}))}function D(){F.length&&(angular.forEach(F,function(e){e()}),F.length=0)}function T(){var e=a[u+"Trigger"];B(),A=h(e),"none"!==A.show&&A.show.forEach(function(e,t){e===A.hide[t]?n[0].addEventListener(e,o):e&&(n[0].addEventListener(e,p),A.hide[t].split(" ").forEach(function(e){n[0].addEventListener(e,d)})),n.on("keypress",function(e){27===e.which&&d()})})}var M,U,S,O,P,E,I=angular.isDefined(f.appendToBody)?f.appendToBody:!1,A=h(void 0),W=angular.isDefined(a[u+"Enable"]),V=t.$new(!0),q=!1,N=angular.isDefined(a[u+"IsOpen"])?c(a[u+"IsOpen"]):!1,H=f.useContentExp?c(a[i]):!1,F=[],R=function(){M&&M.html()&&(E||(E=r(function(){M.css({top:0,left:0});var e=s.positionElements(n,M,V.placement,I);e.top+="px",e.left+="px",e.visibility="visible",M.css(e),E=null},0,!1)))};V.origScope=t,V.isOpen=!1,m.add(V,{close:$}),V.contentExp=function(){return V.content},a.$observe("disabled",function(e){e&&v(),e&&V.isOpen&&$()}),N&&t.$watch(N,function(e){V&&!e===V.isOpen&&o()});var B=function(){A.show.forEach(function(e){n.unbind(e,p)}),A.hide.forEach(function(e){e.split(" ").forEach(function(e){n[0].removeEventListener(e,d)})})};T();var L=t.$eval(a[u+"Animation"]);V.animation=angular.isDefined(L)?!!L:f.animation;var j=t.$eval(a[u+"AppendToBody"]);I=angular.isDefined(j)?j:I,I&&t.$on("$locationChangeSuccess",function(){V.isOpen&&$()}),t.$on("$destroy",function(){v(),b(),B(),y(),m.remove(V),V=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,a){return{link:function(i,o,r){var l,s,p,u=i.$eval(r.tooltipTemplateTranscludeScope),c=0,d=function(){s&&(s.remove(),s=null),l&&(l.$destroy(),l=null),p&&(e.leave(p).then(function(){s=null}),s=p,p=null)};i.$watch(t.parseAsResourceUrl(r.uibTooltipTemplateTransclude),function(t){var r=++c;t?(a(t,!0).then(function(a){if(r===c){var i=u.$new(),s=a,m=n(s)(i,function(t){d(),e.enter(t,o)});l=i,p=m,l.$emit("$includeContentLoaded",t)}},function(){r===c&&(d(),i.$emit("$includeContentError",t))}),i.$emit("$includeContentRequested",t)):d()}),i.$on("$destroy",d)}}}]).directive("uibTooltipClasses",function(){return{restrict:"A",link:function(e,t,n){e.placement&&t.addClass(e.placement),e.popupClass&&t.addClass(e.popupClass),e.animation()&&t.addClass(n.tooltipAnimationClass)}}}).directive("uibTooltipPopup",function(){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html",link:function(e,t){t.addClass("tooltip")}}}).directive("uibTooltip",["$uibTooltip",function(e){return e("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html",link:function(e,t){t.addClass("tooltip")}}}).directive("uibTooltipTemplate",["$uibTooltip",function(e){return e("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html",link:function(e,t){t.addClass("tooltip")}}}).directive("uibTooltipHtml",["$uibTooltip",function(e){return e("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.tooltip").value("$tooltipSuppressWarning",!1).provider("$tooltip",["$uibTooltipProvider",function(e){angular.extend(this,e),this.$get=["$log","$tooltipSuppressWarning","$injector",function(t,n,a){return n||t.warn("$tooltip is now deprecated. Use $uibTooltip instead."),a.invoke(e.$get)}]}]).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest","$log","$tooltipSuppressWarning",function(e,t,n,a,i,o){return{link:function(r,l,s){o||i.warn("tooltip-template-transclude is now deprecated. Use uib-tooltip-template-transclude instead.");var p,u,c,d=r.$eval(s.tooltipTemplateTranscludeScope),m=0,f=function(){u&&(u.remove(),u=null),p&&(p.$destroy(),p=null),c&&(e.leave(c).then(function(){u=null}),u=c,c=null)};r.$watch(t.parseAsResourceUrl(s.tooltipTemplateTransclude),function(t){var i=++m;t?(a(t,!0).then(function(a){if(i===m){var o=d.$new(),r=a,s=n(r)(o,function(t){f(),e.enter(t,l)});p=o,c=s,p.$emit("$includeContentLoaded",t)}},function(){i===m&&(f(),r.$emit("$includeContentError",t))}),r.$emit("$includeContentRequested",t)):f()}),r.$on("$destroy",f)}}}]).directive("tooltipClasses",["$log","$tooltipSuppressWarning",function(e,t){return{restrict:"A",link:function(n,a,i){t||e.warn("tooltip-classes is now deprecated. Use uib-tooltip-classes instead."),n.placement&&a.addClass(n.placement),n.popupClass&&a.addClass(n.popupClass),n.animation()&&a.addClass(i.tooltipAnimationClass)}}}]).directive("tooltipPopup",["$log","$tooltipSuppressWarning",function(e,t){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html",link:function(n,a){t||e.warn("tooltip-popup is now deprecated. Use uib-tooltip-popup instead."),a.addClass("tooltip")}}}]).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",["$log","$tooltipSuppressWarning",function(e,t){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html",link:function(n,a){t||e.warn("tooltip-template-popup is now deprecated. Use uib-tooltip-template-popup instead."),a.addClass("tooltip")}}}]).directive("tooltipTemplate",["$tooltip",function(e){return e("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",["$log","$tooltipSuppressWarning",function(e,t){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html",link:function(n,a){t||e.warn("tooltip-html-popup is now deprecated. Use uib-tooltip-html-popup instead."),a.addClass("tooltip")}}}]).directive("tooltipHtml",["$tooltip",function(e){return e("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function a(e){return"static"===(n(e,"position")||"static")}var i=function(t){for(var n=e[0],i=t.offsetParent||n;i&&i!==n&&a(i);)i=i.offsetParent;return i||n};return{position:function(t){var n=this.offset(t),a={top:0,left:0},o=i(t[0]);o!=e[0]&&(a=this.offset(angular.element(o)),a.top+=o.clientTop-o.scrollTop,a.left+=o.clientLeft-o.scrollLeft);var r=t[0].getBoundingClientRect();return{width:r.width||t.prop("offsetWidth"),height:r.height||t.prop("offsetHeight"),top:n.top-a.top,left:n.left-a.left}},offset:function(n){var a=n[0].getBoundingClientRect();return{width:a.width||n.prop("offsetWidth"),height:a.height||n.prop("offsetHeight"),top:a.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:a.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,a){var i,o,r,l,s=n.split("-"),p=s[0],u=s[1]||"center";i=a?this.offset(e):this.position(e),o=t.prop("offsetWidth"),r=t.prop("offsetHeight");var c={center:function(){return i.left+i.width/2-o/2},left:function(){return i.left},right:function(){return i.left+i.width}},d={center:function(){return i.top+i.height/2-r/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(p){case"right":l={top:d[u](),left:c[p]()};break;case"left":l={top:d[u](),left:i.left-o};break;case"bottom":l={top:d[p](),left:c[u]()};break;default:l={top:i.top-r,left:c[u]()}}return l}}}]),angular.module("ui.bootstrap.position").value("$positionSuppressWarning",!1).service("$position",["$log","$positionSuppressWarning","$uibPosition",function(e,t,n){t||e.warn("$position is now deprecated. Use $uibPosition instead."),angular.extend(this,n)}]),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,a=0;a<e.length;a++)if(t==e[a].key){n=a;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html",link:function(e,t){t.addClass("popover")}}}).directive("uibPopoverTemplate",["$uibTooltip",function(e){return e("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html",link:function(e,t){t.addClass("popover")}}}).directive("uibPopoverHtml",["$uibTooltip",function(e){return e("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html",link:function(e,t){t.addClass("popover")}}}).directive("uibPopover",["$uibTooltip",function(e){return e("uibPopover","popover","click")}]),angular.module("ui.bootstrap.popover").value("$popoverSuppressWarning",!1).directive("popoverTemplatePopup",["$log","$popoverSuppressWarning",function(e,t){return{replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html",link:function(n,a){t||e.warn("popover-template-popup is now deprecated. Use uib-popover-template-popup instead."),a.addClass("popover")}}}]).directive("popoverTemplate",["$tooltip",function(e){return e("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverHtmlPopup",["$log","$popoverSuppressWarning",function(e,t){return{replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html",link:function(n,a){t||e.warn("popover-html-popup is now deprecated. Use uib-popover-html-popup instead."),a.addClass("popover")}}}]).directive("popoverHtml",["$tooltip",function(e){return e("popoverHtml","popover","click",{useContentExp:!0})}]).directive("popoverPopup",["$log","$popoverSuppressWarning",function(e,t){return{replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html",link:function(n,a){t||e.warn("popover-popup is now deprecated. Use uib-popover-popup instead."),a.addClass("popover")}}}]).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var a=n.match(t);if(!a)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:a[3],source:e(a[4]),viewMapper:e(a[2]||a[1]),modelMapper:e(a[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$uibPosition","uibTypeaheadParser",function(e,t,n,a,i,o,r,l,s,p,u,c){function d(){V.moveInProgress||(V.moveInProgress=!0,V.$digest()),j&&r.cancel(j),j=r(function(){V.matches.length&&m(),V.moveInProgress=!1},v)}function m(){V.position=U?u.offset(t):u.position(t),V.position.top+=t.prop("offsetHeight")}var f,h,g=[9,13,27,38,40],v=200,$=e.$eval(n.typeaheadMinLength);$||0===$||($=1);var b,w,y=e.$eval(n.typeaheadWaitMs)||0,k=e.$eval(n.typeaheadEditable)!==!1,C=i(n.typeaheadLoading).assign||angular.noop,x=i(n.typeaheadOnSelect),D=angular.isDefined(n.typeaheadSelectOnBlur)?e.$eval(n.typeaheadSelectOnBlur):!1,T=i(n.typeaheadNoResults).assign||angular.noop,M=n.typeaheadInputFormatter?i(n.typeaheadInputFormatter):void 0,U=n.typeaheadAppendToBody?e.$eval(n.typeaheadAppendToBody):!1,S=n.typeaheadAppendToElementId||!1,O=e.$eval(n.typeaheadFocusFirst)!==!1,P=n.typeaheadSelectOnExact?e.$eval(n.typeaheadSelectOnExact):!1,E=i(n.ngModel),I=i(n.ngModel+"($$$p)"),A=function(t,n){return angular.isFunction(E(e))&&h&&h.$options&&h.$options.getterSetter?I(t,{$$$p:n}):E.assign(t,n)},W=c.parse(n.uibTypeahead),V=e.$new(),q=e.$on("$destroy",function(){V.$destroy()});V.$on("$destroy",q);var N="typeahead-"+V.$id+"-"+Math.floor(1e4*Math.random());t.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":N});var H=angular.element("<div uib-typeahead-popup></div>");H.attr({id:N,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(n.typeaheadTemplateUrl)&&H.attr("template-url",n.typeaheadTemplateUrl),angular.isDefined(n.typeaheadPopupTemplateUrl)&&H.attr("popup-template-url",n.typeaheadPopupTemplateUrl);var F=function(){V.matches=[],V.activeIdx=-1,t.attr("aria-expanded",!1)},R=function(e){return N+"-option-"+e};V.$watch("activeIdx",function(e){0>e?t.removeAttr("aria-activedescendant"):t.attr("aria-activedescendant",R(e))});var B=function(e,t){return V.matches.length>t&&e?e.toUpperCase()===V.matches[t].label.toUpperCase():!1},L=function(n){var a={$viewValue:n};C(e,!0),T(e,!1),o.when(W.source(e,a)).then(function(i){var o=n===f.$viewValue;if(o&&b)if(i&&i.length>0){V.activeIdx=O?0:-1,T(e,!1),V.matches.length=0;for(var r=0;r<i.length;r++)a[W.itemName]=i[r],V.matches.push({id:R(r),label:W.viewMapper(V,a),model:i[r]});V.query=n,m(),t.attr("aria-expanded",!0),P&&1===V.matches.length&&B(n,0)&&V.select(0)}else F(),T(e,!0);o&&C(e,!1)},function(){F(),C(e,!1),T(e,!0)})};U&&(angular.element(s).bind("resize",d),l.find("body").bind("scroll",d));var j;V.moveInProgress=!1,V.query=void 0;var Y,_=function(e){Y=r(function(){L(e)},y)},z=function(){Y&&r.cancel(Y)};F(),V.select=function(a){var i,o,l={};w=!0,l[W.itemName]=o=V.matches[a].model,i=W.modelMapper(e,l),A(e,i),f.$setValidity("editable",!0),f.$setValidity("parse",!0),x(e,{$item:o,$model:i,$label:W.viewMapper(e,l)}),F(),V.$eval(n.typeaheadFocusOnSelect)!==!1&&r(function(){t[0].focus()},0,!1)},t.bind("keydown",function(e){if(0!==V.matches.length&&-1!==g.indexOf(e.which)){if(-1===V.activeIdx&&(9===e.which||13===e.which))return F(),void V.$digest();e.preventDefault(),40===e.which?(V.activeIdx=(V.activeIdx+1)%V.matches.length,V.$digest()):38===e.which?(V.activeIdx=(V.activeIdx>0?V.activeIdx:V.matches.length)-1,V.$digest()):13===e.which||9===e.which?V.$apply(function(){V.select(V.activeIdx)}):27===e.which&&(e.stopPropagation(),F(),V.$digest())}}),t.bind("blur",function(){D&&V.matches.length&&-1!==V.activeIdx&&!w&&(w=!0,V.$apply(function(){V.select(V.activeIdx)})),b=!1,w=!1});var K=function(e){t[0]!==e.target&&3!==e.which&&0!==V.matches.length&&(F(),p.$$phase||V.$digest())};l.bind("click",K),e.$on("$destroy",function(){l.unbind("click",K),(U||S)&&G.remove(),U&&(angular.element(s).unbind("resize",d),l.find("body").unbind("scroll",d)),H.remove()});var G=a(H)(V);U?l.find("body").append(G):S!==!1?angular.element(l[0].getElementById(S)).append(G):t.after(G),this.init=function(t,n){f=t,h=n,f.$parsers.unshift(function(t){return b=!0,0===$||t&&t.length>=$?y>0?(z(),_(t)):L(t):(C(e,!1),z(),F()),k?t:t?void f.$setValidity("editable",!1):(f.$setValidity("editable",!0),null)}),f.$formatters.push(function(t){var n,a,i={};return k||f.$setValidity("editable",!0),M?(i.$model=t,M(e,i)):(i[W.itemName]=t,n=W.viewMapper(e,i),i[W.itemName]=void 0,a=W.viewMapper(e,i),n!==a?n:t)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","^?ngModelOptions","uibTypeahead"],link:function(e,t,n,a){a[2].init(a[0],a[1])}}}).directive("uibTypeaheadPopup",function(){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{scope:{index:"=",match:"=",query:"="},link:function(a,i,o){var r=n(o.templateUrl)(a.$parent)||"template/typeahead/typeahead-match.html";e(r).then(function(e){t(e.trim())(a,function(e){i.replaceWith(e)})})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(e,t,n){function a(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function i(e){return/<.*>/g.test(e)}var o;return o=t.has("$sanitize"),function(t,r){return!o&&i(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=r?(""+t).replace(new RegExp(a(r),"gi"),"<strong>$&</strong>"):t,o||(t=e.trustAsHtml(t)),t}}]),angular.module("ui.bootstrap.typeahead").value("$typeaheadSuppressWarning",!1).service("typeaheadParser",["$parse","uibTypeaheadParser","$log","$typeaheadSuppressWarning",function(e,t,n,a){return a||n.warn("typeaheadParser is now deprecated. Use uibTypeaheadParser instead."),t}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$uibPosition","typeaheadParser","$log","$typeaheadSuppressWarning",function(e,t,n,a,i,o,r,l,s,p,u){var c=[9,13,27,38,40],d=200;return{require:["ngModel","^?ngModelOptions"],link:function(m,f,h,g){function v(){H.moveInProgress||(H.moveInProgress=!0,H.$digest()),z&&a.cancel(z),z=a(function(){H.matches.length&&$(),H.moveInProgress=!1},d)}function $(){H.position=P?l.offset(f):l.position(f),H.position.top+=f.prop("offsetHeight")}u||p.warn("typeahead is now deprecated. Use uib-typeahead instead.");var b=g[0],w=g[1],y=m.$eval(h.typeaheadMinLength);y||0===y||(y=1);var k,C,x=m.$eval(h.typeaheadWaitMs)||0,D=m.$eval(h.typeaheadEditable)!==!1,T=t(h.typeaheadLoading).assign||angular.noop,M=t(h.typeaheadOnSelect),U=angular.isDefined(h.typeaheadSelectOnBlur)?m.$eval(h.typeaheadSelectOnBlur):!1,S=t(h.typeaheadNoResults).assign||angular.noop,O=h.typeaheadInputFormatter?t(h.typeaheadInputFormatter):void 0,P=h.typeaheadAppendToBody?m.$eval(h.typeaheadAppendToBody):!1,E=h.typeaheadAppendToElementId||!1,I=m.$eval(h.typeaheadFocusFirst)!==!1,A=h.typeaheadSelectOnExact?m.$eval(h.typeaheadSelectOnExact):!1,W=t(h.ngModel),V=t(h.ngModel+"($$$p)"),q=function(e,t){return angular.isFunction(W(m))&&w&&w.$options&&w.$options.getterSetter?V(e,{$$$p:t}):W.assign(e,t)},N=s.parse(h.typeahead),H=m.$new(),F=m.$on("$destroy",function(){H.$destroy()});H.$on("$destroy",F);var R="typeahead-"+H.$id+"-"+Math.floor(1e4*Math.random());f.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":R});var B=angular.element("<div typeahead-popup></div>");B.attr({id:R,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(h.typeaheadTemplateUrl)&&B.attr("template-url",h.typeaheadTemplateUrl),angular.isDefined(h.typeaheadPopupTemplateUrl)&&B.attr("popup-template-url",h.typeaheadPopupTemplateUrl);var L=function(){H.matches=[],H.activeIdx=-1,f.attr("aria-expanded",!1)},j=function(e){return R+"-option-"+e};H.$watch("activeIdx",function(e){0>e?f.removeAttr("aria-activedescendant"):f.attr("aria-activedescendant",j(e))});var Y=function(e,t){return H.matches.length>t&&e?e.toUpperCase()===H.matches[t].label.toUpperCase():!1},_=function(e){var t={$viewValue:e};T(m,!0),S(m,!1),n.when(N.source(m,t)).then(function(n){var a=e===b.$viewValue;if(a&&k)if(n&&n.length>0){H.activeIdx=I?0:-1,S(m,!1),H.matches.length=0;for(var i=0;i<n.length;i++)t[N.itemName]=n[i],H.matches.push({id:j(i),label:N.viewMapper(H,t),model:n[i]});H.query=e,$(),f.attr("aria-expanded",!0),A&&1===H.matches.length&&Y(e,0)&&H.select(0)}else L(),S(m,!0);a&&T(m,!1)},function(){L(),T(m,!1),S(m,!0)})};P&&(angular.element(o).bind("resize",v),i.find("body").bind("scroll",v));var z;H.moveInProgress=!1,L(),H.query=void 0;var K,G=function(e){K=a(function(){_(e)},x)},Z=function(){K&&a.cancel(K)};b.$parsers.unshift(function(e){return k=!0,0===y||e&&e.length>=y?x>0?(Z(),G(e)):_(e):(T(m,!1),Z(),L()),D?e:e?void b.$setValidity("editable",!1):(b.$setValidity("editable",!0),null)}),b.$formatters.push(function(e){var t,n,a={};return D||b.$setValidity("editable",!0),O?(a.$model=e,O(m,a)):(a[N.itemName]=e,t=N.viewMapper(m,a),a[N.itemName]=void 0,n=N.viewMapper(m,a),t!==n?t:e)}),H.select=function(e){var t,n,i={};C=!0,i[N.itemName]=n=H.matches[e].model,t=N.modelMapper(m,i),q(m,t),b.$setValidity("editable",!0),b.$setValidity("parse",!0),M(m,{$item:n,$model:t,$label:N.viewMapper(m,i)}),L(),H.$eval(h.typeaheadFocusOnSelect)!==!1&&a(function(){f[0].focus()},0,!1)},f.bind("keydown",function(e){if(0!==H.matches.length&&-1!==c.indexOf(e.which)){if(-1===H.activeIdx&&(9===e.which||13===e.which))return L(),void H.$digest();e.preventDefault(),40===e.which?(H.activeIdx=(H.activeIdx+1)%H.matches.length,H.$digest()):38===e.which?(H.activeIdx=(H.activeIdx>0?H.activeIdx:H.matches.length)-1,H.$digest()):13===e.which||9===e.which?H.$apply(function(){H.select(H.activeIdx)}):27===e.which&&(e.stopPropagation(),L(),H.$digest())}}),f.bind("blur",function(){U&&H.matches.length&&-1!==H.activeIdx&&!C&&(C=!0,H.$apply(function(){H.select(H.activeIdx)})),k=!1,C=!1});var X=function(e){f[0]!==e.target&&3!==e.which&&0!==H.matches.length&&(L(),r.$$phase||H.$digest())};i.bind("click",X),m.$on("$destroy",function(){i.unbind("click",X),(P||E)&&J.remove(),P&&(angular.element(o).unbind("resize",v),i.find("body").unbind("scroll",v)),B.remove()});var J=e(B)(H);P?i.find("body").append(J):E!==!1?angular.element(i[0].getElementById(E)).append(J):f.after(J)}}}]).directive("typeaheadPopup",["$typeaheadSuppressWarning","$log",function(e,t){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(n,a,i){e||t.warn("typeahead-popup is now deprecated. Use uib-typeahead-popup instead."),n.templateUrl=i.templateUrl,n.isOpen=function(){return n.matches.length>0},n.isActive=function(e){return n.active==e},n.selectActive=function(e){n.active=e},n.selectMatch=function(e){n.select({activeIdx:e})}}}}]).directive("typeaheadMatch",["$templateRequest","$compile","$parse","$typeaheadSuppressWarning","$log",function(e,t,n,a,i){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(o,r,l){a||i.warn("typeahead-match is now deprecated. Use uib-typeahead-match instead.");var s=n(l.templateUrl)(o.$parent)||"template/typeahead/typeahead-match.html";e(s).then(function(e){t(e.trim())(o,function(e){r.replaceWith(e)})})}}}]).filter("typeaheadHighlight",["$sce","$injector","$log","$typeaheadSuppressWarning",function(e,t,n,a){function i(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function o(e){return/<.*>/g.test(e)}var r;return r=t.has("$sanitize"),function(t,l){return a||n.warn("typeaheadHighlight is now deprecated. Use uibTypeaheadHighlight instead."),!r&&o(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=l?(""+t).replace(new RegExp(i(l),"gi"),"<strong>$&</strong>"):t,r||(t=e.trustAsHtml(t)),t}}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-popup.html",'<div\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-template-popup.html",'<div\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    uib-tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-html.html",'<div tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-template.html",'<div tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        uib-tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a href tabindex="-1" ng-bind-html="match.label | uibTypeaheadHighlight:query"></a>\n')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]);